import{c as d,u as m,j as e,L as u}from"./index-Qp1hafof.js";import{M as g}from"./MoviesImageBG-kOrV5-3z.js";import{u as x,F as h}from"./Camera Logo-CKAIisNw.js";const v=()=>{const[t,r]=d.useState({username:"",email:"",password:""}),n=m(),{setToken:l}=x(),a=s=>{r({...t,[s.target.name]:s.target.value})},i=async()=>{try{const s=await fetch("https://localhost:7170/api/Auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){const c=await s.json();throw console.error("Validation error",c.errors),new Error("Registration failed")}const o=(await s.json()).token;l(o),console.log("New JWT Token:",o),n("/dashboard")}catch(s){console.error("Error during registration",s)}};return e.jsxs("div",{className:"relative flex h-screen w-full",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center blur-sm",style:{backgroundImage:`url(${g})`,filter:"blur(1px)"}}),e.jsx("div",{className:"relative z-10 flex w-full justify-center items-center",children:e.jsxs("div",{className:"bg-white bg-opacity-95 rounded-xl p-10 w-[460px]",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx("h1",{className:"text-4xl font-bold text-indigo-800",children:"FilmVault"}),e.jsx("img",{src:h,alt:"FilmVault logo",className:"w-10 h-10"})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Name"}),e.jsx("input",{type:"text",name:"username",value:t.username,onChange:a,className:"mt-1 w-full border-b-2 border-gray-400 focus:outline-none focus:border-indigo-500 p-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:a,className:"mt-1 w-full border-b-2 border-gray-400 focus:outline-none focus:border-indigo-500 p-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Password"}),e.jsx("input",{type:"password",name:"password",value:t.password,onChange:a,className:"mt-1 w-full border-b-2 border-gray-400 focus:outline-none focus:border-indigo-500 p-1"})]}),e.jsx("button",{type:"button",onClick:i,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-xl transition cursor-pointer",children:"Create Account"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-600 mt-6",children:["Already have an account?"," ",e.jsx(u,{to:"/login",className:"text-indigo-600 font-medium hover:underline",children:"Sign in"})]})]})})]})};export{v as CreateAccountPage,v as default};
