import{r as a,u as f,j as e,L as p}from"./index-41AWa5gk.js";import{u as j,F as v}from"./Camera Logo-DfZfEmoR.js";import{M as N}from"./MoviesImageBG-kOrV5-3z.js";const S=()=>{const[l,c]=a.useState(""),[o,u]=a.useState(""),[n,d]=a.useState(""),[i,r]=a.useState(""),m=f(),{setToken:x}=j(),g=async s=>{s.preventDefault(),r("");try{const t=await fetch("https://localhost:7170/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:n})});if(!t.ok){const{message:h}=await t.json();throw new Error(h||"Login failed")}const b=await t.json();x(b.token),m("/dashboard")}catch(t){t instanceof Error?r(t.message):r("An unexpected error occurred.")}};return e.jsxs("div",{className:"relative flex h-screen w-full",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center blur-sm",style:{backgroundImage:`url(${N})`,filter:"blur(1px)"}}),e.jsx("div",{className:"relative z-10 flex w-full justify-center items-center",children:e.jsxs("div",{className:"bg-white bg-opacity-95 rounded-xl p-10 w-[460px]",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx("h1",{className:"text-4xl font-bold text-indigo-800",children:"FilmVault"}),e.jsx("img",{src:v,alt:"FilmVault logo",className:"w-10 h-10"})]}),e.jsxs("form",{className:"space-y-6",onSubmit:g,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Name"}),e.jsx("input",{type:"username",value:l,onChange:s=>c(s.target.value),className:"mt-1 w-full border-b-2 border-gray-400 focus:outline-none focus:border-indigo-500 p-1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Email"}),e.jsx("input",{type:"email",value:o,onChange:s=>u(s.target.value),className:"mt-1 w-full border-b-2 border-gray-400 focus:outline-none focus:border-indigo-500 p-1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Password"}),e.jsx("input",{type:"password",value:n,onChange:s=>d(s.target.value),className:"mt-1 w-full border-b-2 border-gray-400 focus:outline-none focus:border-indigo-500 p-1",required:!0})]}),i&&e.jsx("p",{className:"text-sm text-red-500 mt-1 mb-3",children:i}),e.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-xl transition cursor-pointer",children:"Log In"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-600 mt-6",children:["Don't have an account?"," ",e.jsx(p,{to:"/register",className:"text-indigo-600 font-medium hover:underline",children:"Create an account"})]})]})})]})};export{S as default};
